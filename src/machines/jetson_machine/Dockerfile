FROM qutms_driverless_ros_source:pytorch
# qutms_driverless_base generated by qutms_driverless/docker/Makefile

ARG USERNAME
ARG HOST_UID
# dialout group is used for compatability with mac
ARG HOST_GROUP=dialout

WORKDIR /tmp 
# copy in perception files and install YOLOv5 vision dependancies
COPY ./src/perception/vision_pipeline/jetson_requirements.txt ./jetson_requirements.txt
RUN pip3 install -r jetson_requirements.txt
# remove files
RUN rm -f ./jetson_requirements.txt

WORKDIR /home/$USERNAME/driverless_ws
