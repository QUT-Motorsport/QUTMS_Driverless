FROM qutms_driverless_base
# qutms_driverless_base automatically generated by makefile

ARG USERNAME
ARG HOST_UID
# dialout group is used for compatability with mac
ARG HOST_GROUP=dialout

# copy in perception files and install Python Dependencies
COPY --chown=${HOST_UID}:${HOST_GROUP} ./src/perception /home/${USERNAME}/driverless_ws/src/perception
RUN pip install -r /home/${USERNAME}/driverless_ws/src/perception/requirements.txt

# remove files
RUN rm -r /home/${USERNAME}/driverless_ws/src/*
